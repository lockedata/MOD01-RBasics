<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Working with R</title>
  <meta name="description" content="Working with R">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Working with R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Working with R" />
  
  
  

<meta name="author" content="Locke Data">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-manipulation.html">
<link rel="next" href="r-packages.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css\lockedatabook.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="part"><span><b>I Preamble</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="what-you-need-to-already-know.html"><a href="what-you-need-to-already-know.html"><i class="fa fa-check"></i>What you need to already know</a></li>
<li class="chapter" data-level="" data-path="steph-locke.html"><a href="steph-locke.html"><i class="fa fa-check"></i>Steph Locke</a></li>
<li class="chapter" data-level="" data-path="locke-data.html"><a href="locke-data.html"><i class="fa fa-check"></i>Locke Data</a></li>
<li class="chapter" data-level="" data-path="conventions.html"><a href="conventions.html"><i class="fa fa-check"></i>Conventions</a></li>
<li class="part"><span><b>II R fundamentals</b></span></li>
<li class="chapter" data-level="1" data-path="about-r.html"><a href="about-r.html"><i class="fa fa-check"></i><b>1</b> About R</a><ul>
<li class="chapter" data-level="1.1" data-path="about-r.html"><a href="about-r.html#key-points-to-know-about-r"><i class="fa fa-check"></i><b>1.1</b> Key points to know about R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="why-use-r.html"><a href="why-use-r.html"><i class="fa fa-check"></i><b>2</b> Why use R?</a><ul>
<li class="chapter" data-level="2.1" data-path="why-use-r.html"><a href="why-use-r.html#data-wrangling"><i class="fa fa-check"></i><b>2.1</b> Data wrangling</a></li>
<li class="chapter" data-level="2.2" data-path="why-use-r.html"><a href="why-use-r.html#data-science"><i class="fa fa-check"></i><b>2.2</b> Data science</a></li>
<li class="chapter" data-level="2.3" data-path="why-use-r.html"><a href="why-use-r.html#data-visualisation"><i class="fa fa-check"></i><b>2.3</b> Data visualisation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="using-rstudio.html"><a href="using-rstudio.html"><i class="fa fa-check"></i><b>3</b> Using RStudio</a><ul>
<li class="chapter" data-level="3.1" data-path="using-rstudio.html"><a href="using-rstudio.html#the-console"><i class="fa fa-check"></i><b>3.1</b> The console</a></li>
<li class="chapter" data-level="3.2" data-path="using-rstudio.html"><a href="using-rstudio.html#scripts"><i class="fa fa-check"></i><b>3.2</b> Scripts</a></li>
<li class="chapter" data-level="3.3" data-path="using-rstudio.html"><a href="using-rstudio.html#code-completion"><i class="fa fa-check"></i><b>3.3</b> Code completion</a></li>
<li class="chapter" data-level="3.4" data-path="using-rstudio.html"><a href="using-rstudio.html#projects"><i class="fa fa-check"></i><b>3.4</b> Projects</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i><b>4</b> Useful resources</a><ul>
<li class="chapter" data-level="4.1" data-path="useful-resources.html"><a href="useful-resources.html#the-built-in-help"><i class="fa fa-check"></i><b>4.1</b> The built-in help</a></li>
<li class="chapter" data-level="4.2" data-path="useful-resources.html"><a href="useful-resources.html#online"><i class="fa fa-check"></i><b>4.2</b> Online</a></li>
<li class="chapter" data-level="4.3" data-path="useful-resources.html"><a href="useful-resources.html#in-person"><i class="fa fa-check"></i><b>4.3</b> In-person</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-data-types.html"><a href="r-data-types.html"><i class="fa fa-check"></i><b>5</b> R data types</a><ul>
<li class="chapter" data-level="5.1" data-path="r-data-types.html"><a href="r-data-types.html#numbers"><i class="fa fa-check"></i><b>5.1</b> Numbers</a><ul>
<li class="chapter" data-level="5.1.1" data-path="r-data-types.html"><a href="r-data-types.html#converting-to-numbers"><i class="fa fa-check"></i><b>5.1.1</b> Converting to numbers</a></li>
<li class="chapter" data-level="5.1.2" data-path="r-data-types.html"><a href="r-data-types.html#checking-numbers"><i class="fa fa-check"></i><b>5.1.2</b> Checking numbers</a></li>
<li class="chapter" data-level="5.1.3" data-path="r-data-types.html"><a href="r-data-types.html#special-numbers"><i class="fa fa-check"></i><b>5.1.3</b> Special numbers</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="r-data-types.html"><a href="r-data-types.html#text"><i class="fa fa-check"></i><b>5.2</b> Text</a><ul>
<li class="chapter" data-level="5.2.1" data-path="r-data-types.html"><a href="r-data-types.html#converting-to-strings"><i class="fa fa-check"></i><b>5.2.1</b> Converting to strings</a></li>
<li class="chapter" data-level="5.2.2" data-path="r-data-types.html"><a href="r-data-types.html#checking-strings"><i class="fa fa-check"></i><b>5.2.2</b> Checking strings</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="r-data-types.html"><a href="r-data-types.html#logical-values"><i class="fa fa-check"></i><b>5.3</b> Logical values</a><ul>
<li class="chapter" data-level="5.3.1" data-path="r-data-types.html"><a href="r-data-types.html#converting-to-logicals"><i class="fa fa-check"></i><b>5.3.1</b> Converting to logicals</a></li>
<li class="chapter" data-level="5.3.2" data-path="r-data-types.html"><a href="r-data-types.html#checking-logicals"><i class="fa fa-check"></i><b>5.3.2</b> Checking logicals</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="r-data-types.html"><a href="r-data-types.html#dates"><i class="fa fa-check"></i><b>5.4</b> Dates</a><ul>
<li class="chapter" data-level="5.4.1" data-path="r-data-types.html"><a href="r-data-types.html#converting-to-dates"><i class="fa fa-check"></i><b>5.4.1</b> Converting to dates</a></li>
<li class="chapter" data-level="5.4.2" data-path="r-data-types.html"><a href="r-data-types.html#checking-dates"><i class="fa fa-check"></i><b>5.4.2</b> Checking dates</a></li>
<li class="chapter" data-level="5.4.3" data-path="r-data-types.html"><a href="r-data-types.html#getting-dates-and-times"><i class="fa fa-check"></i><b>5.4.3</b> Getting dates and times</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="r-data-types.html"><a href="r-data-types.html#summary"><i class="fa fa-check"></i><b>5.5</b> Summary</a></li>
<li class="chapter" data-level="5.6" data-path="r-data-types.html"><a href="r-data-types.html#r-data-types-exercises"><i class="fa fa-check"></i><b>5.6</b> R Data Types Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="basic-operations.html"><a href="basic-operations.html"><i class="fa fa-check"></i><b>6</b> Basic operations</a><ul>
<li class="chapter" data-level="6.1" data-path="basic-operations.html"><a href="basic-operations.html#maths"><i class="fa fa-check"></i><b>6.1</b> Maths </a></li>
<li class="chapter" data-level="6.2" data-path="basic-operations.html"><a href="basic-operations.html#comparison"><i class="fa fa-check"></i><b>6.2</b> Comparison</a><ul>
<li class="chapter" data-level="6.2.1" data-path="basic-operations.html"><a href="basic-operations.html#common-operators"><i class="fa fa-check"></i><b>6.2.1</b> Common operators</a></li>
<li class="chapter" data-level="6.2.2" data-path="basic-operations.html"><a href="basic-operations.html#a-gotcha"><i class="fa fa-check"></i><b>6.2.2</b> A gotcha</a></li>
<li class="chapter" data-level="6.2.3" data-path="basic-operations.html"><a href="basic-operations.html#summary-1"><i class="fa fa-check"></i><b>6.2.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="basic-operations.html"><a href="basic-operations.html#logic"><i class="fa fa-check"></i><b>6.3</b> Logic</a><ul>
<li class="chapter" data-level="6.3.1" data-path="basic-operations.html"><a href="basic-operations.html#common-operators-1"><i class="fa fa-check"></i><b>6.3.1</b> Common operators</a></li>
<li class="chapter" data-level="6.3.2" data-path="basic-operations.html"><a href="basic-operations.html#other-operators"><i class="fa fa-check"></i><b>6.3.2</b> Other operators</a></li>
<li class="chapter" data-level="6.3.3" data-path="basic-operations.html"><a href="basic-operations.html#summary-2"><i class="fa fa-check"></i><b>6.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="basic-operations.html"><a href="basic-operations.html#summary-3"><i class="fa fa-check"></i><b>6.4</b> Summary</a></li>
<li class="chapter" data-level="6.5" data-path="basic-operations.html"><a href="basic-operations.html#basic-operations-exercises"><i class="fa fa-check"></i><b>6.5</b> Basic Operations Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-objects.html"><a href="r-objects.html"><i class="fa fa-check"></i><b>7</b> R objects</a><ul>
<li class="chapter" data-level="7.1" data-path="r-objects.html"><a href="r-objects.html#storing-values"><i class="fa fa-check"></i><b>7.1</b> Storing values</a></li>
<li class="chapter" data-level="7.2" data-path="r-objects.html"><a href="r-objects.html#vectors"><i class="fa fa-check"></i><b>7.2</b> Vectors</a></li>
<li class="chapter" data-level="7.3" data-path="r-objects.html"><a href="r-objects.html#getting-information-about-vectors"><i class="fa fa-check"></i><b>7.3</b> Getting information about vectors</a></li>
<li class="chapter" data-level="7.4" data-path="r-objects.html"><a href="r-objects.html#calculations-on-multiple-vectors"><i class="fa fa-check"></i><b>7.4</b> Calculations on multiple vectors</a><ul>
<li class="chapter" data-level="7.4.1" data-path="r-objects.html"><a href="r-objects.html#bitwise"><i class="fa fa-check"></i><b>7.4.1</b> Bitwise</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="r-objects.html"><a href="r-objects.html#data.frames"><i class="fa fa-check"></i><b>7.5</b> data.frames</a></li>
<li class="chapter" data-level="7.6" data-path="r-objects.html"><a href="r-objects.html#importing-data.frames"><i class="fa fa-check"></i><b>7.6</b> Importing data.frames</a><ul>
<li class="chapter" data-level="7.6.1" data-path="r-objects.html"><a href="r-objects.html#error"><i class="fa fa-check"></i><b>7.6.1</b> Error!!</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="r-objects.html"><a href="r-objects.html#getting-information-about-data.frames"><i class="fa fa-check"></i><b>7.7</b> Getting information about data.frames</a></li>
<li class="chapter" data-level="7.8" data-path="r-objects.html"><a href="r-objects.html#lists"><i class="fa fa-check"></i><b>7.8</b> Lists</a><ul>
<li class="chapter" data-level="7.8.1" data-path="r-objects.html"><a href="r-objects.html#getting-information-about-lists"><i class="fa fa-check"></i><b>7.8.1</b> Getting information about lists</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="r-objects.html"><a href="r-objects.html#other-object-types"><i class="fa fa-check"></i><b>7.9</b> Other object types</a></li>
<li class="chapter" data-level="7.10" data-path="r-objects.html"><a href="r-objects.html#useful-functions"><i class="fa fa-check"></i><b>7.10</b> Useful functions</a></li>
<li class="chapter" data-level="7.11" data-path="r-objects.html"><a href="r-objects.html#r-objects-exercises"><i class="fa fa-check"></i><b>7.11</b> R objects exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>8</b> Data manipulation</a><ul>
<li class="chapter" data-level="8.1" data-path="data-manipulation.html"><a href="data-manipulation.html#grid-references"><i class="fa fa-check"></i><b>8.1</b> Grid references</a></li>
<li class="chapter" data-level="8.2" data-path="data-manipulation.html"><a href="data-manipulation.html#grid-references-with-numbers"><i class="fa fa-check"></i><b>8.2</b> Grid references with numbers</a><ul>
<li class="chapter" data-level="8.2.1" data-path="data-manipulation.html"><a href="data-manipulation.html#single-value-selection-with-vectors"><i class="fa fa-check"></i><b>8.2.1</b> Single value selection with vectors</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-manipulation.html"><a href="data-manipulation.html#single-value-selection-with-data.frames"><i class="fa fa-check"></i><b>8.2.2</b> Single value selection with data.frames</a></li>
<li class="chapter" data-level="8.2.3" data-path="data-manipulation.html"><a href="data-manipulation.html#single-value-selection-with-lists"><i class="fa fa-check"></i><b>8.2.3</b> Single value selection with lists</a></li>
<li class="chapter" data-level="8.2.4" data-path="data-manipulation.html"><a href="data-manipulation.html#multiple-values"><i class="fa fa-check"></i><b>8.2.4</b> Multiple values</a></li>
<li class="chapter" data-level="8.2.5" data-path="data-manipulation.html"><a href="data-manipulation.html#negative-values"><i class="fa fa-check"></i><b>8.2.5</b> Negative values</a></li>
<li class="chapter" data-level="8.2.6" data-path="data-manipulation.html"><a href="data-manipulation.html#missing-values"><i class="fa fa-check"></i><b>8.2.6</b> Missing values</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-manipulation.html"><a href="data-manipulation.html#grid-references-with-names"><i class="fa fa-check"></i><b>8.3</b> Grid references with names</a></li>
<li class="chapter" data-level="8.4" data-path="data-manipulation.html"><a href="data-manipulation.html#grid-references-with-conditional-values"><i class="fa fa-check"></i><b>8.4</b> Grid references with conditional values</a><ul>
<li class="chapter" data-level="8.4.1" data-path="data-manipulation.html"><a href="data-manipulation.html#building-conditional-vectors"><i class="fa fa-check"></i><b>8.4.1</b> Building conditional vectors</a></li>
<li class="chapter" data-level="8.4.2" data-path="data-manipulation.html"><a href="data-manipulation.html#conditional-filters-for-data.frames"><i class="fa fa-check"></i><b>8.4.2</b> Conditional filters for data.frames</a></li>
<li class="chapter" data-level="8.4.3" data-path="data-manipulation.html"><a href="data-manipulation.html#recycling-values"><i class="fa fa-check"></i><b>8.4.3</b> Recycling values</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-manipulation.html"><a href="data-manipulation.html#mixed-grid-references"><i class="fa fa-check"></i><b>8.5</b> Mixed grid references</a></li>
<li class="chapter" data-level="8.6" data-path="data-manipulation.html"><a href="data-manipulation.html#other-reference-methods"><i class="fa fa-check"></i><b>8.6</b> Other reference methods</a></li>
<li class="chapter" data-level="8.7" data-path="data-manipulation.html"><a href="data-manipulation.html#changing-objects"><i class="fa fa-check"></i><b>8.7</b> Changing objects</a></li>
<li class="chapter" data-level="8.8" data-path="data-manipulation.html"><a href="data-manipulation.html#summary-4"><i class="fa fa-check"></i><b>8.8</b> Summary</a></li>
<li class="chapter" data-level="8.9" data-path="data-manipulation.html"><a href="data-manipulation.html#data-manipulation-exercises"><i class="fa fa-check"></i><b>8.9</b> Data manipulation exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="r-functions.html"><a href="r-functions.html"><i class="fa fa-check"></i><b>9</b> R functions</a><ul>
<li class="chapter" data-level="9.1" data-path="r-functions.html"><a href="r-functions.html#using-a-function"><i class="fa fa-check"></i><b>9.1</b> Using a function</a></li>
<li class="chapter" data-level="9.2" data-path="r-functions.html"><a href="r-functions.html#examining-functions"><i class="fa fa-check"></i><b>9.2</b> Examining functions</a></li>
<li class="chapter" data-level="9.3" data-path="r-functions.html"><a href="r-functions.html#function-input-patterns"><i class="fa fa-check"></i><b>9.3</b> Function input patterns</a><ul>
<li class="chapter" data-level="9.3.1" data-path="r-functions.html"><a href="r-functions.html#no-inputs"><i class="fa fa-check"></i><b>9.3.1</b> No inputs</a></li>
<li class="chapter" data-level="9.3.2" data-path="r-functions.html"><a href="r-functions.html#single-inputs"><i class="fa fa-check"></i><b>9.3.2</b> Single inputs</a></li>
<li class="chapter" data-level="9.3.3" data-path="r-functions.html"><a href="r-functions.html#many-inputs"><i class="fa fa-check"></i><b>9.3.3</b> Many inputs</a></li>
<li class="chapter" data-level="9.3.4" data-path="r-functions.html"><a href="r-functions.html#unlimited-inputs"><i class="fa fa-check"></i><b>9.3.4</b> Unlimited inputs</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="r-functions.html"><a href="r-functions.html#naming-arguments"><i class="fa fa-check"></i><b>9.4</b> Naming arguments</a></li>
<li class="chapter" data-level="9.5" data-path="r-functions.html"><a href="r-functions.html#r-functions-exercises"><i class="fa fa-check"></i><b>9.5</b> R functions Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>10</b> R packages</a><ul>
<li class="chapter" data-level="10.1" data-path="r-packages.html"><a href="r-packages.html#installing-packages"><i class="fa fa-check"></i><b>10.1</b> Installing packages</a><ul>
<li class="chapter" data-level="10.1.1" data-path="r-packages.html"><a href="r-packages.html#installing-from-github-and-other-sources"><i class="fa fa-check"></i><b>10.1.1</b> Installing from GitHub and other sources</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="r-packages.html"><a href="r-packages.html#recommended-packages"><i class="fa fa-check"></i><b>10.2</b> Recommended packages</a><ul>
<li class="chapter" data-level="10.2.1" data-path="r-packages.html"><a href="r-packages.html#tidyverse"><i class="fa fa-check"></i><b>10.2.1</b> tidyverse</a></li>
<li class="chapter" data-level="10.2.2" data-path="r-packages.html"><a href="r-packages.html#getting-data-in-and-out-of-r"><i class="fa fa-check"></i><b>10.2.2</b> Getting data in and out of R</a></li>
<li class="chapter" data-level="10.2.3" data-path="r-packages.html"><a href="r-packages.html#data-manipulation-1"><i class="fa fa-check"></i><b>10.2.3</b> Data manipulation</a></li>
<li class="chapter" data-level="10.2.4" data-path="r-packages.html"><a href="r-packages.html#data-visualisation-1"><i class="fa fa-check"></i><b>10.2.4</b> Data visualisation</a></li>
<li class="chapter" data-level="10.2.5" data-path="r-packages.html"><a href="r-packages.html#data-science-1"><i class="fa fa-check"></i><b>10.2.5</b> Data science</a></li>
<li class="chapter" data-level="10.2.6" data-path="r-packages.html"><a href="r-packages.html#presenting-results"><i class="fa fa-check"></i><b>10.2.6</b> Presenting results</a></li>
<li class="chapter" data-level="10.2.7" data-path="r-packages.html"><a href="r-packages.html#finding-packages"><i class="fa fa-check"></i><b>10.2.7</b> Finding packages</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="r-packages.html"><a href="r-packages.html#loading-a-package"><i class="fa fa-check"></i><b>10.3</b> Loading a package</a></li>
<li class="chapter" data-level="10.4" data-path="r-packages.html"><a href="r-packages.html#learning-how-to-use-a-package"><i class="fa fa-check"></i><b>10.4</b> Learning how to use a package</a></li>
<li class="chapter" data-level="10.5" data-path="r-packages.html"><a href="r-packages.html#r-packages-exercises"><i class="fa fa-check"></i><b>10.5</b> R packages Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Conclusion</b></span></li>
<li class="chapter" data-level="11" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>11</b> Conclusion</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="answers.html"><a href="answers.html"><i class="fa fa-check"></i><b>A</b> Answers</a><ul>
<li class="chapter" data-level="A.1" data-path="answers.html"><a href="answers.html#r-data-types-exercises-1"><i class="fa fa-check"></i><b>A.1</b> R Data Types Exercises</a></li>
<li class="chapter" data-level="A.2" data-path="answers.html"><a href="answers.html#basic-operations-exercises-1"><i class="fa fa-check"></i><b>A.2</b> Basic Operations Exercises</a></li>
<li class="chapter" data-level="A.3" data-path="answers.html"><a href="answers.html#r-objects-exercises-1"><i class="fa fa-check"></i><b>A.3</b> R Objects Exercises</a></li>
<li class="chapter" data-level="A.4" data-path="answers.html"><a href="answers.html#data-manipulation-exercises-1"><i class="fa fa-check"></i><b>A.4</b> Data manipulation exercises</a></li>
<li class="chapter" data-level="A.5" data-path="answers.html"><a href="answers.html#r-functions-exercises-1"><i class="fa fa-check"></i><b>A.5</b> R functions Exercises</a></li>
<li class="chapter" data-level="A.6" data-path="answers.html"><a href="answers.html#r-packages-exercises-1"><i class="fa fa-check"></i><b>A.6</b> R packages Exercises</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Working with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-functions" class="section level1">
<h1><span class="header-section-number">9</span> R functions</h1>
<p>In previous sections we’ve seen R <strong>functions</strong> that are used on objects to perform some activity. Functions seen so far include:</p>
<ul>
<li><code>class()</code> and <code>is.*()</code> functions for checking datatypes</li>
<li><code>as.*</code> for converting to datatypes</li>
<li><code>length()</code> and <code>names()</code> for metadata</li>
<li><code>head()</code> and <code>tail()</code> for getting a small amount of elements from an object</li>
<li><code>ncol()</code>, <code>nrow()</code>, <code>colnames()</code>, and <code>rownames()</code> for getting data.frame metadata</li>
<li><code>Sys.Date()</code> and <code>Sys.time()</code> for getting current datetime values</li>
</ul>
<p>There are a huge range of functions out there, whether available in R straight away, or from adding extra functionality.</p>
<p>Understanding how functions work and being able to use them correctly will help you learn, and use R effectively.</p>
<div id="using-a-function" class="section level2">
<h2><span class="header-section-number">9.1</span> Using a function</h2>
<p>A function does some computation on an object. The use of a function consists of:</p>
<ol style="list-style-type: decimal">
<li>A function’s name</li>
<li>Parentheses</li>
<li>0 or more inputs</li>
</ol>
<p>Each input is provided to an <strong>argument</strong> or parameter within a function.</p>
<p>These arguments have names, although you don’t often need to provide the names.</p>
<p>You can find out what arguments a function takes by using the code completion and it’s help snippet, or by searching for the function in the Rstudio Help tab.</p>
<p>When you’re inside the brackets of a function you can get the list of available arguments and auto-complete them.</p>
<div class="readerTODO">
<p>
Try getting the autocomplete to work with the function <code>tail()</code>.
</p>
</div>
</div>
<div id="examining-functions" class="section level2">
<h2><span class="header-section-number">9.2</span> Examining functions</h2>
<p>One of the niftiest things about R is being able to see the code for a function. You can examine how many functions work by just typing their name without any parentheses.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Sys.Date</code></pre></div>
<pre><code>## function () 
## as.Date(as.POSIXlt(Sys.time()))
## &lt;bytecode: 0x0000000026a9e3b8&gt;
## &lt;environment: namespace:base&gt;</code></pre>
<p>The first line(s) show how the arguments are specified. Subsequent lines show the code and the final lines starting with <code>&lt;</code> can be mostly ignored.</p>
</div>
<div id="function-input-patterns" class="section level2">
<h2><span class="header-section-number">9.3</span> Function input patterns</h2>
<p>Functions tend to conform to certain patterns of inputs.</p>
<div id="no-inputs" class="section level3">
<h3><span class="header-section-number">9.3.1</span> No inputs</h3>
<p>Some functions don’t require the user to provide info and so they don’t have any arguments. <code>Sys.Date()</code> and similar functions do not need user input because the functions provide information about the system.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Sys.Date</code></pre></div>
<pre><code>## function () 
## as.Date(as.POSIXlt(Sys.time()))
## &lt;bytecode: 0x0000000026a9e3b8&gt;
## &lt;environment: namespace:base&gt;</code></pre>
<p>Looking at the function definition, we can see that there are no arguments specified in the first line.</p>
</div>
<div id="single-inputs" class="section level3">
<h3><span class="header-section-number">9.3.2</span> Single inputs</h3>
<p>Other functions only have a single allowed input. <code>length()</code> returns the length of an object so it only allows you to provide it with an object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">length</code></pre></div>
<pre><code>## function (x)  .Primitive(&quot;length&quot;)</code></pre>
<p>We can see in this definition<a href="#fn28" class="footnoteRef" id="fnref28"><sup>28</sup></a> that the function takes the argument <code>x</code>.</p>
</div>
<div id="many-inputs" class="section level3">
<h3><span class="header-section-number">9.3.3</span> Many inputs</h3>
<p>Some functions have multiple inputs, although not all of them are necessarily <strong>mandatory</strong>. <code>head()</code> and <code>tail()</code> have been used so far with only a single input but they take an optional argument as to how many elements should be returned.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(letters)
<span class="kw">head</span>(letters, <span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot;
## [1] &quot;A&quot; &quot;B&quot;</code></pre>
<p>The <code>rnorm()</code> function allows us to generate a vector of values from a normal distribution. We can tell it how many values we need (<code>n</code>), and we can optionally provide the mean (<code>mean</code>) and standard deviation (<code>sd</code>) to describe the Normal curve that values should be selected from.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rnorm</code></pre></div>
<pre><code>## function (n, mean = 0, sd = 1) 
## .Call(C_rnorm, n, mean, sd)
## &lt;bytecode: 0x00000000276e2160&gt;
## &lt;environment: namespace:stats&gt;</code></pre>
<p>Looking at how <code>rnorm</code> is specified we can see that we’re expected to provide <code>n</code>, but <code>mean</code> and <code>sd</code> are given values of 0 and 1 repsectively by default.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">5</span>)
<span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">5</span>, <span class="dt">mean =</span> <span class="dv">10</span>, <span class="dt">sd =</span> <span class="dv">2</span>)</code></pre></div>
<pre><code>## [1] -0.2120614  0.6085826 -1.2223726  2.1340316  1.7567625
## [1] 11.351905 12.282940  8.759992 13.074025  7.612265</code></pre>
</div>
<div id="unlimited-inputs" class="section level3">
<h3><span class="header-section-number">9.3.4</span> Unlimited inputs</h3>
<p>Other functions can take an unlimited amount of input values. Functions like <code>sum()</code> will sum the values from a number of objects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="dv">1</span>:<span class="dv">3</span>, <span class="dv">1</span>:<span class="dv">9</span>, pi)</code></pre></div>
<pre><code>## [1] 54.14159</code></pre>
<p>The ellipsis (<code>...</code>) is used to denote when the user can provide any number of values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sum</code></pre></div>
<pre><code>## function (..., na.rm = FALSE)  .Primitive(&quot;sum&quot;)</code></pre>
</div>
</div>
<div id="naming-arguments" class="section level2">
<h2><span class="header-section-number">9.4</span> Naming arguments</h2>
<p>Every input provided to a function is associated with an argument.</p>
<p>Each argument must have a name. Even functions that allow unlimited inputs assign these inputs to a name. Behind the scenes, they get put into a list object and the list get’s called <code>...</code> (or ellipsis).</p>
<p>There are some typical names for arguments that take your data object. These include:</p>
<ul>
<li><code>x</code></li>
<li><code>data</code></li>
<li><code>.data</code></li>
<li><code>df</code></li>
</ul>
<p>You don’t usually have to provide the argument names, just put things in the relevant places in the function. Sometimes though, you <em>will</em> need to use argument names.</p>
<p>Here are my rules of thumb for knowing when you need to name names:</p>
<ol style="list-style-type: decimal">
<li>You’re using the arguments in an order that is different from the function author’s intended order (you might be skipping some arguments as the default values are fine or you might just prefer a different order)</li>
<li>The arguments you want to specify show up after the <code>...</code> in a function’s argument list</li>
<li>You want to give a specific name to a value in a <code>...</code> argument</li>
</ol>
<p>We can provide names<a href="#fn29" class="footnoteRef" id="fnref29"><sup>29</sup></a> for clarity or so we can use arguments out of order if we prefer to.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">5</span>, <span class="dt">mean =</span> <span class="dv">10</span>, <span class="dt">sd =</span> <span class="dv">2</span>)
<span class="kw">rnorm</span>(<span class="dt">mean =</span> <span class="dv">10</span>, <span class="dt">sd =</span> <span class="dv">2</span>, <span class="dt">n =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] 10.896712 11.027374  9.478451 13.964845 11.779391
## [1] 9.534573 9.320442 8.558675 8.648765 9.943037</code></pre>
<p>A common behaviour change that you’ll need to work with is how missing (<code>NA</code>) values get handled. Functions that allow you change this behaviour, usually have an argument called things like <code>na.rm</code>, <code>na.omit</code>, and <code>na.action</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="dv">1</span>:<span class="dv">5</span>, <span class="ot">NA</span>)
<span class="kw">sum</span>(<span class="dv">1</span>:<span class="dv">5</span>, <span class="ot">NA</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] NA
## [1] 15</code></pre>
<p>In the <code>sum()</code> example, I used the <code>na.rm</code> argument’s name. This is because otherwise the <code>TRUE</code> would be considered part of the values being passed for summing. Without the name, the value get’s considered as part of the <code>...</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="dv">1</span>:<span class="dv">5</span>, <span class="ot">NA</span>, <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>A function will sometimes have <code>...</code> at the end of it’s list of arguments when it utilises other functions and those have optional / default values.</p>
<p>For instance the <code>predict()</code> function allows us to take a model we’ve built and apply it to some new data.</p>
<p>It works for many different types of model and these different models expect different types of inputs. Some models expect data.frames, others expect time series data, etc.</p>
<p>There’s lots of potential variations, the only thing that is mandatory is the model object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">predict</code></pre></div>
<pre><code>## function (object, ...) 
## UseMethod(&quot;predict&quot;)
## &lt;bytecode: 0x0000000013582890&gt;
## &lt;environment: namespace:stats&gt;</code></pre>
<p>The <code>predict()</code> function then determines what type of model object you’ve provided it and passes the model, and any other values you provided, to the relevant function, returning back the results.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">linearMod &lt;-<span class="st"> </span><span class="kw">lm</span>(Sepal.Length ~<span class="st"> </span>., <span class="dt">data =</span> iris)
logisticMod &lt;-<span class="st"> </span><span class="kw">glm</span>(Species ~<span class="st"> </span>., <span class="dt">data =</span> iris, <span class="dt">family =</span> binomial)

<span class="kw">predict</span>(linearMod, iris[<span class="dv">1</span>, ])
<span class="kw">predict</span>(logisticMod, iris[<span class="dv">1</span>, ])</code></pre></div>
<pre><code>##        1 
## 5.004788 
##         1 
## -38.02709</code></pre>
</div>
<div id="r-functions-exercises" class="section level2">
<h2><span class="header-section-number">9.5</span> R functions Exercises</h2>
<p>Using what you’ve learned about investigating the components of functions…</p>
<ol style="list-style-type: decimal">
<li>Use <code>pmin()</code> to find the smallest values element-wise of the three vector <code>1:51</code>, <code>25:75</code>, <code>30:-20</code></li>
<li>Use <code>paste()</code> to combine the upper case letters into a single string with <code>&quot;, &quot;</code> between each letter</li>
<li>Use <code>list.files()</code> to see what files are in your current directory. Return the fully qualified names not just the filenames</li>
<li>View the code for <code>ncol()</code> and work out how the number of columns is being determined</li>
</ol>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="28">
<li id="fn28"><p>the code looks a bit odd - this is because it’s specified a bit differently to most functions, but fear not! In R, there are some different ways of writing code. The normal way is called <strong>S3</strong> but functions that are designed to work with properties of objects like length use a different system called <strong>S4</strong>. For the most part you’ll rarely need to dig into S4 code as most R functionality is built in S3 and will allow you to check out it’s code easily.<a href="r-functions.html#fnref28">↩</a></p></li>
<li id="fn29"><p>Note that that you don’t have to type the full name as R will attempt to match up values, but doing that can and does get a lot of R users into trouble so I don’t recommend it.<a href="r-functions.html#fnref29">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-manipulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-packages.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
